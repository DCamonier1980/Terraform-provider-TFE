---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "tfe_policy_set Resource - terraform-provider-tfe"
subcategory: ""
description: |-
  Sentinel Policy as Code is an embedded policy as code framework integrated with Terraform Enterprise.
  Policy sets are groups of policies that are applied together to related workspaces By using policy sets, you can group your policies by attributes such as environment or region. Individual policies that are members of policy sets will only be checked for workspaces that the policy set is attached to.
---

# tfe_policy_set

Sentinel Policy as Code is an embedded policy as code framework integrated with Terraform Enterprise. 

 Policy sets are groups of policies that are applied together to related workspaces By using policy sets, you can group your policies by attributes such as environment or region. Individual policies that are members of policy sets will only be checked for workspaces that the policy set is attached to.

## Example Usage 

```terraform
resource "tfe_policy_set" "test" {
  name          = "my-policy-set"
  description   = "A brand new policy set"
  organization  = "my-org-name"
  policies_path = "policies/my-policy-set"
  workspace_ids = [tfe_workspace.test.id]

  vcs_repo {
    identifier         = "my-org-name/my-policy-set-repository"
    branch             = "main"
    ingress_submodules = false
    oauth_token_id     = tfe_oauth_client.test.oauth_token_id
  }
}
```

Using manually-specified policies:

```terraform
resource "tfe_policy_set" "test" {
  name          = "my-policy-set"
  description   = "A brand new policy set"
  organization  = "my-org-name"
  policy_ids    = [tfe_sentinel_policy.test.id]
  workspace_ids = [tfe_workspace.test.id]
}
```

Manually uploaded policy set, in lieu of VCS:

```terraform
data "tfe_slug" "test" {
  // point to the local directory where the policies are located.
  source_path = "policies/my-policy-set"
}

resource "tfe_policy_set" "test" {
  name          = "my-policy-set"
  description   = "A brand new policy set"
  organization  = "my-org-name"
  workspace_ids = [tfe_workspace.test.id]

  // reference the tfe_slug data source.
  slug = data.tfe_slug.test
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Name of the policy set.
- `organization` (String) Name of the organization.

### Optional

- `description` (String) A description of the policy set's purpose.
- `global` (Boolean) Whether or not policies in this set will apply to all workspaces. Defaults to `false`. This value _must not_ be provided if `workspace_ids` is provided.
- `policies_path` (String) The sub-path within the attached VCS repository to ingress when using `vcs_repo`. All files and directories outside of this sub-path will be ignored. This option can only be supplied when `vcs_repo` is present. Forces a new resource if changed.
- `policy_ids` (Set of String) A list of Sentinel policy IDs. This value _must not_ be provided if `vcs_repo` is provided.
- `slug` (Map of String) A reference to the `tfe_slug` data source that contains the `source_path` to where the local policies are located. This is used when policies are located locally, and can only be used when there is no VCS repo or explicit Policy IDs. This _requires_ the usage of the `tfe_slug` data source.
- `vcs_repo` (Block List, Max: 1) Settings for the policy sets VCS repository. Forces a new resource if changed. This value _must not_ be provided if `policy_ids` are provided. (see [below for nested schema](#nestedblock--vcs_repo))
- `workspace_ids` (Set of String) A list of workspace IDs. This value _must not_ be provided if `global` is provided.

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--vcs_repo"></a>
### Nested Schema for `vcs_repo`

Required:

- `identifier` (String) A reference to your VCS repository in the format `<organization>/<repository>` where `<organization>` and `<repository>` refer to the organization and repositor in your VCS provider.
- `oauth_token_id` (String) Token ID of the VCS Connection (OAuth Connection Token) to use.

Optional:

- `branch` (String) The repository branch that Terraform will execute from. This defaults to the repository's default branch (e.g. main).
- `ingress_submodules` (Boolean) Whether submodules should be fetched when cloning the VCS repository. Defaults to `false`.

-> Note: When neither vcs_repo or policy_ids is not specified, the current default is to create an empty non-VCS policy set.

## Import

Import is supported using the following syntax:

```shell
# Use <POLICY SET ID> as the import ID. For example:

terraform import tfe_policy_set.test polset-wAs3zYmWAhYK7peR
```